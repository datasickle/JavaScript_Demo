<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        /**
         * 闭包(Closure)：
         *  一个函数对周围状态的引用捆绑在一起，内层函数中访问到其外层函数的作用域
         *  简单理解：闭包 = 内层函数 + 外层函数的变量
         * 
         **/

         // 内层函数用到了外层函数的变量，如下变量a被inner函数使用，两者捆绑到了一起，此时产生闭包
         function outer(){
            const a = 1
            function inner() {
                console.log(a)
            }
            inner()
         }
         outer()

         /**
          * 闭包作用：封闭数据，提供操作，外部也可以访问函数内部的变量
          * 这个作用的概念有点像面向对象的封装思想
          **/

          // 常见闭包写法1 外部可以访问函数内部的变量
        function outter(){
            let i = 1
            function fn(){
                console.log(i)
            }
            return fn
        }

        const fun = outter()
        // 外部的fun函数使用了outter的局部变量
        fun()

        // 常见的闭包写法2
        function outtter(){
            let a = 100
            return function(){
                console.log(a)
            }
        }

        const method = outtter()
        method()

        // 常见的闭包写法3

        function outttter(){
            let a = 1000
            return function(){
                return a
            }
        }

        const b = outttter()
        console.log(b())
    </script>
</body>
</html>